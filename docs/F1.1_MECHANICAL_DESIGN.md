# F1.1 Mechanical Design

## Scope

This feature defines a complete modular filament path assembly for Splice3D, from input spool modules through cutting, splicing, cooling, encoder tracking, and output winding.

## Design Outputs

1. CAD source set in `hardware/f1_1/cad/`
2. Mechanical layout manifest in `hardware/f1_1/spec/mechanical_layout.json`
3. Validation logic in `postprocessor/mechanical_validation.py`
4. Validation and export scripts in `scripts/hardware/`

## Station Architecture

1. `input_module_a`: filament A entry and pre-cut guide.
2. `input_module_b`: filament B entry and pre-cut guide.
3. `cutter_station`: SG90 servo enclosure, blade slot, and aligned channel.
4. `splice_station`: hotend-based splice chamber with PTFE constrained path.
5. `cooling_station`: fan duct and heat sink air channel.
6. `encoder_station`: encoder wheel cavity and spring idler cavity.
7. `output_winder`: output interface for winding and spool management.

Each station uses a modular rail interface (`M3_SLOT_20x60`) so stations can be removed independently for maintenance.

## Filament Path Design

Path waypoints are defined in `hardware/f1_1/spec/mechanical_layout.json`.

Required transition guides are present at:
1. input
2. pre-cut
3. pre-splice
4. post-splice
5. output

The path is constrained to a maximum internal turn angle of `30Â°`.

## Cutting Mechanism

CAD file: `hardware/f1_1/cad/cutting_station.scad`

Features:
1. SG90 pocket with cable escape slot.
2. Blade travel slot with guided cut window.
3. PTFE input and output fitting bosses.
4. Four modular mount slots for station removal.
5. Separate blade alignment insert for repeatable setup.

## Splicing Chamber

CAD file: `hardware/f1_1/cad/splice_chamber_station.scad`

Features:
1. Heater block pocket around a repurposed hotend core.
2. PTFE constrained channel for diameter control.
3. Thermistor and heater cartridge bores.
4. Clamp ears for retention hardware.
5. Removable modular mount slots.

## Cooling Station

CAD file: `hardware/f1_1/cad/cooling_station.scad`

Features:
1. 4010 fan cavity with screw bosses.
2. Duct throat aligned to splice outlet.
3. Heat sink exposure window.
4. PTFE in and out fitting ports.

## Encoder Station

CAD file: `hardware/f1_1/cad/encoder_station.scad`

Features:
1. Encoder wheel cavity.
2. Spring idler cavity and spring seat.
3. Aligned filament channel through nip point.
4. Removable idler arm module.

## Alignment Fixtures and Jigs

CAD file: `hardware/f1_1/cad/filament_guides_jigs.scad`

Fixtures:
1. hotend centering jig
2. cutter squareness jig
3. encoder pressure jig
4. five guide blocks for transition points

## Exploded Assembly

CAD file: `hardware/f1_1/cad/assembly_exploded.scad`

Callouts:
1. modular rail base
2. cutting station
3. splice chamber station
4. cooling station
5. encoder station
6. guide and jig plate

## Numbered Parts List

| Item | Part | Source CAD |
|------|------|------------|
| 1 | Modular rail base | `hardware/f1_1/cad/modular_mounts.scad` |
| 2 | Cutting station enclosure | `hardware/f1_1/cad/cutting_station.scad` |
| 3 | Splice chamber station | `hardware/f1_1/cad/splice_chamber_station.scad` |
| 4 | Cooling station | `hardware/f1_1/cad/cooling_station.scad` |
| 5 | Encoder station | `hardware/f1_1/cad/encoder_station.scad` |
| 6 | Guide and jig plate | `hardware/f1_1/cad/filament_guides_jigs.scad` |

## Assembly Simulation Rules

Compact fit checks use station bounding boxes from `hardware/f1_1/spec/mechanical_layout.json`.

Validation criteria:
1. no station collisions in compact layout
2. all interfaces reference valid stations
3. station mount pattern matches interface mount pattern
4. minimum interface clearance is `0.2mm`

## Verification Commands

```bash
python3 scripts/hardware/validate_f1_1.py
python3 -m pytest postprocessor/tests/test_mechanical_validation.py -v
```

## STL Export Command

```bash
python3 scripts/hardware/export_f1_1_stl.py
```

This command requires `openscad` in the local environment.
